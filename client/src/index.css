@import "tailwindcss";

@theme {
  --font-hand: "Patrick Hand", cursive;
  --font-marker: "Gloria Hallelujah", cursive;
  --font-sketch: "Indie Flower", cursive;

  --color-paper: #fdfbf7;
  --color-ink: #2d2d2d;
  --color-pencil-gray: #555555;

  --color-pastel-pink: #ffb7b2;
  --color-pastel-mint: #b2f7ef;
  --color-pastel-yellow: #fff4bd;
  --color-pastel-blue: #a0e7e5;
  --color-pastel-purple: #e2b2ff;
  --color-pastel-green: #b5ead7;
  /* Added specifically for Create button replacement */

  --shadow-sketch: 2px 3px 0px rgba(45, 45, 45, 0.2);
  --radius-sketch: 255px 15px 225px 15px / 15px 225px 15px 255px;
  --radius-sketch-sm: 25px 2px 20px 3px / 3px 20px 3px 25px;

  --animate-scribble: scribble 0.4s steps(10) infinite alternate;

  @keyframes scribble {
    0% {
      transform: rotate(-0.5deg) scale(1);
    }

    100% {
      transform: rotate(0.5deg) scale(1.02);
    }
  }

  @keyframes draw-stroke {
    to {
      stroke-dashoffset: 0;
    }
  }
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--color-paper);
  color: var(--color-ink);
  font-family: var(--font-hand);
  overflow: hidden;
  height: 100vh;
  background-image:
    linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
    linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Paper Texture Overlay */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
}

/* Utility Classes for Sketchy Aesthetic */
.bg-pattern {
  background-color: transparent;
  /* Override old style */
  background-image: none;
}

.font-hand {
  font-family: var(--font-hand);
}

.font-marker {
  font-family: var(--font-marker);
}

.border-sketch {
  border: 2px solid var(--color-ink);
  border-radius: var(--radius-sketch-sm);
}

.shadow-sketch {
  box-shadow: var(--shadow-sketch);
}

/* Button Style Re-imagined */
.gartic-btn {
  background: var(--color-paper);
  color: var(--color-ink);
  border: 2px solid var(--color-ink);
  border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  padding: 10px 20px;
  font-family: var(--font-marker);
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.15s steps(5);
  box-shadow: 2px 3px 0px var(--color-ink);
  position: relative;
  overflow: visible;
}

.gartic-btn:hover {
  transform: translate(-1px, -2px) rotate(-1deg);
  box-shadow: 4px 6px 0px var(--color-ink);
  background: var(--color-pastel-yellow);
  /* Remove existing background colors override if present in HTML via utility classes, 
     but usually specific class wins if specificity is higher. 
     Here we rely on the fact that we are redesigning. */
}

.gartic-btn:active {
  transform: translate(1px, 2px);
  box-shadow: 0px 0px 0px var(--color-ink);
}

/* Card/Container Style Re-imagined */
.gartic-card {
  background: white;
  /* Or paper color if we want transparency */
  border: 2px solid var(--color-ink);
  border-radius: var(--radius-sketch);
  padding: 20px;
  box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.1);
  position: relative;
}

/* Input Style Re-imagined */
.gartic-input {
  background: transparent;
  border: 2px solid var(--color-ink);
  border-radius: var(--radius-sketch-sm);
  padding: 10px 15px;
  font-family: var(--font-hand);
  font-size: 1.1rem;
  outline: none;
  box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.05);
  transition: all 0.2s ease;
  width: 100%;
  /* Ensure full width usually */
}

.gartic-input:focus {
  border-color: var(--color-ink);
  background-color: rgba(255, 255, 255, 0.5);
  box-shadow: 2px 3px 0px var(--color-pastel-blue);
  transform: rotate(0.5deg);
}

/* New Classes for App.tsx replacement */

.sketch-title {
  font-family: var(--font-marker);
  color: var(--color-ink);
  text-shadow: 3px 3px 0px var(--color-pastel-pink);
  transform: rotate(-2deg);
  letter-spacing: 2px;
}

.sketch-modal {
  background: var(--color-paper);
  border: 3px solid var(--color-ink);
  border-radius: var(--radius-sketch);
  box-shadow: 10px 10px 0px rgba(0, 0, 0, 0.2);
  padding: 2rem;
}

.room-item {
  padding: 12px;
  margin-bottom: 8px;
  border: 2px solid var(--color-ink);
  border-radius: var(--radius-sketch-sm);
  background: white;
  cursor: pointer;
  transition: all 0.2s steps(3);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.room-item:hover {
  transform: scale(1.02) rotate(-0.5deg);
  box-shadow: 3px 3px 0px var(--color-pastel-blue);
}

.room-item.selected {
  background: var(--color-pastel-blue);
  border-color: var(--color-ink);
  box-shadow: inset 2px 2px 0px rgba(0, 0, 0, 0.1);
  transform: scale(0.98);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: var(--color-paper);
  border-left: 2px solid var(--color-ink);
}

::-webkit-scrollbar-thumb {
  background: var(--color-pencil-gray);
  border: 2px solid var(--color-paper);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-ink);
}

/* Connecting Animation */
@keyframes loading-dots {
  0% {
    content: "";
  }

  25% {
    content: ".";
  }

  50% {
    content: "..";
  }

  75% {
    content: "...";
  }

  100% {
    content: "";
  }
}

@keyframes text-jitter {
  0% {
    transform: rotate(0deg) scale(1);
  }

  25% {
    transform: rotate(-2deg) scale(1.05);
  }

  50% {
    transform: rotate(1deg) scale(0.95);
  }

  75% {
    transform: rotate(2deg) scale(1.02);
  }

  100% {
    transform: rotate(0deg) scale(1);
  }
}

.connecting-container {
  height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-paper);
  flex-direction: column;
}

.connecting-text {
  font-family: var(--font-marker);
  font-size: 4rem;
  color: var(--color-ink);
  position: relative;
  display: inline-block;
  animation: text-jitter 0.4s steps(2) infinite alternate;
  text-shadow: 3px 3px 0px var(--color-pastel-mint);
}

.connecting-text::after {
  content: "";
  position: absolute;
  left: 100%;
  width: 1.5em;
  /* Reserve space for dots */
  text-align: left;
  animation: loading-dots 1.5s steps(1) infinite;
}

/* Tab Switch Animations */
@keyframes tab-slide-in {
  0% {
    opacity: 0;
    transform: translateX(10px) rotate(1deg);
  }

  100% {
    opacity: 1;
    transform: translateX(0) rotate(0deg);
  }
}

@keyframes tab-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.98);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.tab-content {
  animation: tab-fade-in 0.25s ease-out;
}

.tab-indicator {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Message enter animation */
@keyframes message-pop {
  0% {
    opacity: 0;
    transform: translateY(5px) scale(0.95);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.message-enter {
  animation: message-pop 0.2s ease-out;
}

/* ===== MOBILE RESPONSIVE UTILITIES ===== */

/* Hide/Show utilities */
@media (max-width: 1023px) {
  .hide-on-mobile {
    display: none !important;
  }

  .show-on-mobile {
    display: flex !important;
  }
}

@media (min-width: 1024px) {
  .hide-on-desktop {
    display: none !important;
  }

  .show-on-desktop {
    display: flex !important;
  }
}

/* Mobile Tab Bar Style */
.mobile-tab-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--color-paper);
  border-top: 2px solid var(--color-ink);
  z-index: 40;
  padding: 0;
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.mobile-tab-btn {
  flex: 1;
  padding: 12px 8px;
  font-family: var(--font-marker);
  font-size: 0.875rem;
  font-weight: bold;
  text-align: center;
  color: var(--color-pencil-gray);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.mobile-tab-btn.active {
  color: var(--color-ink);
  background: var(--color-pastel-blue);
}

.mobile-tab-btn:hover:not(.active) {
  background: rgba(0, 0, 0, 0.05);
}

/* Touch-friendly adjustments */
@media (max-width: 1023px) {
  .gartic-btn {
    min-height: 44px;
    padding: 12px 20px;
  }

  .gartic-input {
    min-height: 44px;
    font-size: 16px;
    /* Prevents iOS zoom on focus */
  }

  .room-item {
    min-height: 60px;
    padding: 14px;
  }

  /* Adjust connecting screen for mobile */
  .connecting-text {
    font-size: 2.5rem;
  }

  /* Prevent body scroll when modal is open */
  body.modal-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
  }
}

/* Safe area padding for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Sketchy Switch Styles */
.sketch-toggle-container {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  user-select: none;
  padding: 8px 12px;
  border-radius: var(--radius-sketch-sm);
  transition: all 0.2s ease;
  border: 2px solid transparent;
}

.sketch-toggle-container:hover {
  background: rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.05);
}

.sketch-toggle-track {
  width: 44px;
  height: 22px;
  background: white;
  border: 2px solid var(--color-ink);
  border-radius: 20px 5px 18px 6px / 6px 18px 5px 20px;
  /* Sketchy radius */
  position: relative;
  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.sketch-toggle-thumb {
  position: absolute;
  top: 1px;
  left: 1px;
  width: 16px;
  height: 16px;
  background: var(--color-ink);
  border-radius: 50% 45% 52% 48% / 48% 52% 45% 50%;
  /* Sketchy circle */
  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.sketch-toggle-container.active .sketch-toggle-track {
  background: var(--color-pastel-yellow);
  transform: rotate(-1deg);
}

.sketch-toggle-container.active .sketch-toggle-thumb {
  left: calc(100% - 19px);
  background: var(--color-ink);
}

.sketch-toggle-label {
  font-family: var(--font-hand);
  font-weight: bold;
  font-size: 1.1rem;
  color: var(--color-ink);
  opacity: 0.7;
  transition: opacity 0.2s;
}

.sketch-toggle-container.active .sketch-toggle-label {
  opacity: 1;
}

/* Mobile scrollbar - thinner and less intrusive */
@media (max-width: 1023px) {
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
    border: none;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
  }
}

/* Landscape mode adjustments */
@media (max-height: 500px) and (orientation: landscape) {
  .sketch-title {
    font-size: 2rem !important;
  }

  .gartic-card {
    padding: 12px;
  }
}